let patchID=47;function getBrawlhallaID(){playerID=document.getElementById("brawlhallaID").value,legendApiData=`https://api.brawlhalla.fr/angularwebapp2/playerLegends?name=${playerID}&patch=${patchID}`,rankedApiData=`https://api.brawlhalla.fr/angularwebapp2/playerMain?name=${playerID}&patch=${patchID}`,getPlayerData(legendApiData),getHighestLevel(legendApiData),getWinsLossesRatio(rankedApiData)}function updateBrawlhallaData(){playerID=document.getElementById("brawlhallaID").value,updateDataUrl=`https://api.brawlhalla.fr/angularwebapp2/updatep?name=${playerID}`,legendApiData=`https://api.brawlhalla.fr/angularwebapp2/playerLegends?name=${playerID}&patch=${patchID}`,rankedApiData=`https://api.brawlhalla.fr/angularwebapp2/playerMain?name=${playerID}&patch=${patchID}`,fetch(updateDataUrl),getPlayerData(legendApiData),getHighestLevel(legendApiData),getWinsLossesRatio(rankedApiData)}function getHighestLevel(legendApiData){fetch(legendApiData).then(response=>response.json()).then(data=>{let legends=data;legends.sort((a,b)=>a.level<b.level?1:-1);let top3=legends.slice(0,3),legendNamesData,legendNames=top3.map(legend=>legend.legend_name_key).map(legend=>legend.replace(/\s+/g,"")),legendLevels=top3.map(legend=>legend.level);displayHighestLocation=document.getElementById("top-characters"),displayHighestLocation.innerHTML=`\n            <div class="top-character" id="top-2">\n                <img class="top-character__icon" src="./public/img/legends/Portrait_${legendNames[1]}.webp" alt="${legendNames[1]} frame">\n                <div class="top-character__level">\n                    <h2 style="color: #A8A9AD">${legendLevels[1]}</h2>\n                </div>\n            </div>\n            <div class="top-character" id="top-1">\n                <i class="fa-solid fa-crown top-character_1"></i>\n                <img class="top-character__icon" src="./public/img/legends/Portrait_${legendNames[0]}.webp" alt="${legendNames[0]} frame">\n                <div class="top-character__level">\n                    <h2 style="color: #FFD700">${legendLevels[0]}</h2>\n                </div>\n            </div>\n            <div class="top-character" id="top-3">\n                <img class="top-character__icon" src="./public/img/legends/Portrait_${legendNames[2]}.webp" alt="${legendNames[2]} frame">\n                <div class="top-character__level">\n                    <h2 style="color: #CD7F32">${legendLevels[2]}</h2>\n                </div>\n            </div>\n            `})}function getPlayerData(legendApiData){fetch(legendApiData).then(response=>response.json()).then(data=>{let legendsData=data;for(let i=0;i<legendsData.length;i++){let legends=legendsData[i],legendNameData,legendName=legends.legend_name_key.replace(/\s+/g,""),legendLevel=legends.level,legendLocation=document.getElementById(`${legendName}`);legendLevel>=25?legendLocation.innerHTML=`\n                    <img class="container-character__icon" src="./public/img/legends/Portrait_${legendName}.webp" alt="${legendName} frame">\n                    <div class="container-character__checkmark">\n                    <i class="fa-sharp fa-solid fa-hexagon-check"></i>\n                    </div>\n                    <div class="container-character__level">\n                        <h2 style="color: rgb(125, 255, 125)">${legendLevel}</h2>\n                    </div>\n                    `:legendLevel<25&&(legendLocation.innerHTML=`\n                        <img class="container-character__icon-none" src="./public/img/legends/Portrait_${legendName}.webp" alt="${legendName} frame">\n                        <div class="container-character__checkmark-none">\n                        <i class="fa-sharp fa-solid fa-hexagon-xmark"></i>\n                        </div>\n                        <div class="container-character__level">\n                            <h2 style="color: crimson">${legendLevel}</h2>\n                        </div>\n                        `)}}).catch(error=>{console.log(error)})}function getWinsLossesRatio(rankedApiData){fetch(rankedApiData).then(response=>response.json()).then(data=>{let wins=data.wins,losses=data.games-data.wins,ratioLocation;document.getElementById("ratio").innerHTML=`\n        <h2 style="color: green;">${wins} W</h2>\n        <h2 style="color: black;">/</h2>\n        <h2 style="color: crimson;">${losses} L</h2>\n        `})}getBrawlhallaID();